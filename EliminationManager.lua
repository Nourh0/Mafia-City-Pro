[
  {
    "status": "success",
    "file_created": "Modules/EliminationManager.lua",
    "module_name": "نظام التصفية وحسم الجولات (EliminationManager)",
    "summary": "تم إنشاء نظام 'حاصد الأرواح' في اللعبة. هذا الملف هو المسؤول عن تنفيذ قرارات القتل أو الإعدام، وتحويل اللاعبين إلى وضع المشاهد (Spectator)، ومراقبة توازن القوى لإعلان الفريق الفائز.",
    "analysis": {
      "elimination_logic": {
        "status_update": "يتم تغيير سمة 'IsAlive' إلى false، مما يمنع اللاعب من المشاركة في التصويت أو الدردشة السرية.",
        "spectator_mode": "يتم نقل اللاعب برمجياً بعيداً عن طاولة الاجتماع لمنع تداخله مع اللاعبين الأحياء.",
        "contextual_reasoning": "يدعم أسباباً مختلفة للتصفية (قتل مافيا أو تصويت محكمة) مع رسائل مخصصة لكل حالة."
      },
      "win_conditions": {
        "Mafia_Victory": "تتحقق عند القضاء على جميع المواطنين والقاضي.",
        "Citizens_Victory": "تتحقق عند كشف وتصفية جميع أعضاء المافيا والزعيم.",
        "Dynamic_Check": "يتم فحص عدد الأحياء في كل فريق بعد كل عملية تصفية لتحديد مصير الجولة."
      }
    },
    "technical_context": "هذا الملف يربط نظام الجولات (RoundCycleManager) بنهاية اللعبة الفعلية، ويعتمد على 'NotificationManager' لإبلاغ الجميع بالأحداث المأساوية التي تحدث في المدينة.",
    "next_step": {
      "action": "إنشاء الملف رقم 23 (ServerInitializer.lua)",
      "instruction": "برافو! الآن اكتملت كل ميكانيكيات اللعبة (22 ملفاً). هل نبدأ بكتابة 'مشغل السيرفر' (ServerInitializer.lua) الذي سيقوم باستدعاء كل هذه الوحدات وربطها بحدث دخول اللاعبين (PlayerAdded) لتبدأ اللعبة فعلياً؟"
    }
  }
]